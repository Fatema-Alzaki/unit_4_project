{% extends "base.html" %}
{% load static %}

{% block title %}Cost Dashboard{% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
{% endblock %}

{% block content %}
  <section class="dashboard-container">
    <h2>ðŸ’° Material Cost Breakdown</h2>
    <div class="chart-wrapper">
    <canvas id="costChart" width="300" height="300"></canvas>
    </div>
  </section>

  <script>
    const ctx = document.getElementById('costChart').getContext('2d');
    const costChart = new Chart(ctx, {
      type: 'pie',
      data: {
        labels: {{ labels|safe }},
        datasets: [{
          label: "Material Costs ($)",
          data: {{ costs|safe }},
          backgroundColor: [
            'rgba(0, 255, 153, 0.8)', 
            'rgba(0, 153, 255, 0.8)', 
            'rgba(255, 204, 0, 0.8)', 
            'rgba(255, 59, 59, 0.8)', 
            'rgba(153, 51, 255, 0.8)'
          ],
          borderColor: '#0f0',
          borderWidth: 2,
          hoverOffset: 15
        }]
      },
        options: {
        maintainAspectRatio: false,
        plugins: {
            legend: {
            labels: {
                color: "#e0ffe0",
                font: { size: 14, weight: "bold" }
            }
            }
        }
        }
    });
  </script>
{% endblock %}
