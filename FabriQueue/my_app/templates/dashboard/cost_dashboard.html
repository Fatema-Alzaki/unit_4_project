{% extends "base.html" %}
{% load static %}

{% block title %}Cost Dashboard{% endblock %}
{% block content %}
  <h2>ðŸ’° Material Cost Breakdown</h2>
  <canvas id="costChart" width="400" height="400"></canvas>

  <script>
    const ctx = document.getElementById('costChart').getContext('2d');
    const costChart = new Chart(ctx, {
      type: 'pie',
      data: {
        labels: {{ labels|safe }},
        datasets: [{
          label: "Material Costs ($)",
          data: {{ costs|safe }},
          backgroundColor: [
            '#00ff99', '#0099ff', '#ffcc00', '#ff3b3b', '#9933ff'
          ],
          borderColor: '#111',
          borderWidth: 2
        }]
      },
      options: {
        plugins: {
          legend: {
            labels: { color: "#e0ffe0" }
          }
        }
      }
    });
  </script>
{% endblock %}
